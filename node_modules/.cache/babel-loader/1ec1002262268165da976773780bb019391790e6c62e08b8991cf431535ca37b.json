{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from 'react';\nimport { API_CONFIG, buildApiUrl, handleApiError } from '../config/api';\n\n// Función helper para hacer requests\nconst apiRequest = async (endpoint, options = {}) => {\n  const url = buildApiUrl(endpoint);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers\n    },\n    ...options\n  };\n  try {\n    const response = await fetch(url, config);\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.error || 'Error en la petición');\n    }\n    return data;\n  } catch (error) {\n    console.error('API Error:', error);\n    throw error;\n  }\n};\n\n// Servicios de la API\nexport const apiService = {\n  // Obtener licitaciones con filtros\n  getLicitaciones: async (params = {}) => {\n    const queryParams = new URLSearchParams();\n    if (params.region) queryParams.append('region', params.region);\n    if (params.page) queryParams.append('page', params.page);\n    if (params.limit) queryParams.append('limit', params.limit);\n    if (params.estado) queryParams.append('estado', params.estado);\n    if (params.fechaInicio) queryParams.append('fechaInicio', params.fechaInicio);\n    if (params.fechaFin) queryParams.append('fechaFin', params.fechaFin);\n    if (params.search) queryParams.append('search', params.search);\n    const queryString = queryParams.toString();\n    const endpoint = `${API_CONFIG.ENDPOINTS.LICITACIONES}${queryString ? `?${queryString}` : ''}`;\n    return apiRequest(endpoint);\n  },\n  // Obtener detalles de una licitación específica usando el endpoint dedicado\n  getLicitacionDetail: async id => {\n    const endpoint = `${API_CONFIG.ENDPOINTS.LICITACIONES_DETAILS}/${id}`;\n    return apiRequest(endpoint);\n  },\n  // Obtener estadísticas generales usando el endpoint dedicado\n  getEstadisticas: async () => {\n    return apiRequest(API_CONFIG.ENDPOINTS.ESTADISTICAS);\n  }\n};\n\n// Hook personalizado para manejar estados de carga y error\nexport const useApiState = () => {\n  _s();\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(null);\n  const executeRequest = async apiCall => {\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await apiCall();\n      return result;\n    } catch (err) {\n      const errorMessage = handleApiError(err);\n      setError(errorMessage);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  return {\n    loading,\n    error,\n    executeRequest\n  };\n};\n_s(useApiState, \"Iz3ozxQ+abMaAIcGIvU8cKUcBeo=\");","map":{"version":3,"names":["React","API_CONFIG","buildApiUrl","handleApiError","apiRequest","endpoint","options","url","config","headers","response","fetch","data","json","ok","Error","error","console","apiService","getLicitaciones","params","queryParams","URLSearchParams","region","append","page","limit","estado","fechaInicio","fechaFin","search","queryString","toString","ENDPOINTS","LICITACIONES","getLicitacionDetail","id","LICITACIONES_DETAILS","getEstadisticas","ESTADISTICAS","useApiState","_s","loading","setLoading","useState","setError","executeRequest","apiCall","result","err","errorMessage"],"sources":["C:/Users/jp.maldonado/Desktop/Universidad/scraper2/Frontend/src/services/api.js"],"sourcesContent":["import React from 'react';\r\nimport { API_CONFIG, buildApiUrl, handleApiError } from '../config/api';\r\n\r\n// Función helper para hacer requests\r\nconst apiRequest = async (endpoint, options = {}) => {\r\n  const url = buildApiUrl(endpoint);\r\n  \r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...options.headers,\r\n    },\r\n    ...options,\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(url, config);\r\n    const data = await response.json();\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(data.error || 'Error en la petición');\r\n    }\r\n    \r\n    return data;\r\n  } catch (error) {\r\n    console.error('API Error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Servicios de la API\r\nexport const apiService = {\r\n  // Obtener licitaciones con filtros\r\n  getLicitaciones: async (params = {}) => {\r\n    const queryParams = new URLSearchParams();\r\n    \r\n    if (params.region) queryParams.append('region', params.region);\r\n    if (params.page) queryParams.append('page', params.page);\r\n    if (params.limit) queryParams.append('limit', params.limit);\r\n    if (params.estado) queryParams.append('estado', params.estado);\r\n    if (params.fechaInicio) queryParams.append('fechaInicio', params.fechaInicio);\r\n    if (params.fechaFin) queryParams.append('fechaFin', params.fechaFin);\r\n    if (params.search) queryParams.append('search', params.search);\r\n    \r\n    const queryString = queryParams.toString();\r\n    const endpoint = `${API_CONFIG.ENDPOINTS.LICITACIONES}${queryString ? `?${queryString}` : ''}`;\r\n    \r\n    return apiRequest(endpoint);\r\n  },\r\n\r\n  // Obtener detalles de una licitación específica usando el endpoint dedicado\r\n  getLicitacionDetail: async (id) => {\r\n    const endpoint = `${API_CONFIG.ENDPOINTS.LICITACIONES_DETAILS}/${id}`;\r\n    return apiRequest(endpoint);\r\n  },\r\n\r\n  // Obtener estadísticas generales usando el endpoint dedicado\r\n  getEstadisticas: async () => {\r\n    return apiRequest(API_CONFIG.ENDPOINTS.ESTADISTICAS);\r\n  },\r\n};\r\n\r\n// Hook personalizado para manejar estados de carga y error\r\nexport const useApiState = () => {\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState(null);\r\n\r\n  const executeRequest = async (apiCall) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const result = await apiCall();\r\n      return result;\r\n    } catch (err) {\r\n      const errorMessage = handleApiError(err);\r\n      setError(errorMessage);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { loading, error, executeRequest };\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}